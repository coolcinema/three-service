"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Propagator = void 0;
const keys_1 = require("./keys");
exports.Propagator = {
    inject(ctx, setHeader) {
        if (!ctx)
            return;
        if (ctx.traceId) {
            setHeader(keys_1.CONTEXT_KEYS.TRACE_ID, [ctx.traceId]);
        }
        for (const [key, value] of Object.entries(ctx.headers)) {
            if (key === keys_1.CONTEXT_KEYS.TRACE_ID)
                continue;
            const values = Array.isArray(value) ? value : [value];
            setHeader(key, values);
        }
    },
};
//# sourceMappingURL=propagator.js.map