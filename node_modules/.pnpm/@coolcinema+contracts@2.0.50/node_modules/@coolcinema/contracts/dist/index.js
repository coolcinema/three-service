"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Registry = void 0;
exports.getGrpcAddress = getGrpcAddress;
const registry_json_1 = __importDefault(require("./registry.json"));
// Экспортируем данные с типом
exports.Registry = registry_json_1.default.services;
// Хелпер для получения gRPC адреса
// createGrpcAddress(Registry['identity-service'], 'main') -> "identity-service:5000"
function getGrpcAddress(service, interfaceName = "main") {
    if (!service.grpc || !service.grpc[interfaceName]) {
        throw new Error(`gRPC interface '${interfaceName}' not found for ${service.slug}`);
    }
    return `${service.host}:${service.grpc[interfaceName].port}`;
}
