"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getBufWorkYaml = getBufWorkYaml;
exports.getBufGenYaml = getBufGenYaml;
const config_1 = require("../config");
function getBufWorkYaml() {
    // Важно: указываем имя пакета (@coolcinema/contracts), а не путь в репо
    return `version: v1
directories:
  - ${config_1.CONFIG.PATHS.LOCAL_CONTRACTS.ROOT}
  - node_modules/@coolcinema/contracts/protos
  - node_modules/@coolcinema/contracts/events
  - node_modules/@coolcinema/contracts/schemas
`;
}
function getBufGenYaml() {
    return `version: v1
plugins:
  # gRPC & Events (TS Code)
  - plugin: ts-proto
    out: ${config_1.CONFIG.PATHS.LOCAL_GEN.GRPC}
    opt:
      - outputServices=nice-grpc
      - outputServices=generic-definitions
      - useExactTypes=false
      - esModuleInterop=true
    path: ./node_modules/.bin/protoc-gen-ts_proto

  # HTTP (OpenAPI v3.0)
  # Официальный плагин для генерации v3
  - plugin: buf.build/grpc-ecosystem/openapiv3
    out: ${config_1.CONFIG.PATHS.LOCAL_GEN.HTTP_SPEC}
    opt:
      - output_format=json
`;
}
//# sourceMappingURL=buf.js.map